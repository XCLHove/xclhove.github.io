import{d as i,u as o,k as d,c as a,l as e,t,a as c,e as n,a3 as r,o as p}from"./chunks/framework.7ep0oyv4.js";const h=r('<h1 id="mysql-error-1698-28000" tabindex="-1">MySQL:ERROR 1698 (28000) <a class="header-anchor" href="#mysql-error-1698-28000" aria-label="Permalink to &quot;MySQL:ERROR 1698 (28000)&quot;">​</a></h1><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;</span></span></code></pre></div><p>问题：登录root用户显示权限错误，</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ubuntu@ubuntu:~$ mysql -u root -p</span></span>\n<span class="line"><span>Enter password: </span></span>\n<span class="line"><span>ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;</span></span></code></pre></div><p>原因：是因为auth_socket的验证类型引起的。</p><p>解决：</p><p>1、通过sudo进入mysql，ubuntu默认sudo不需要密码就可以进</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo mysql</span></span></code></pre></div><p>2、进入mysql库</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>mysql&gt; use mysql;</span></span></code></pre></div><p>3、改密码</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</span></span></code></pre></div><p>然后就可以了。</p><p>当然这个是只允许本地访问的，如何想要远程访问root，则：</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>UPDATE user SET `Host` = &#39;%&#39; WHERE `User` = &#39;root&#39; LIMIT 1;</span></span>\n<span class="line"><span>flush privileges;</span></span>\n<span class="line"><span>exit;</span></span></code></pre></div><p>编辑/etc/mysql/mysql.conf.d/mysqld.cnf文件：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span></span></code></pre></div><p>或</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo gedit /etc/mysql/mysql.conf.d/mysqld.cnf</span></span></code></pre></div><p>把bind-address = 127.0.0.1注释，即在bind-address = 127.0.0.1前面加#</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>#bind-address = 127.0.0.1</span></span></code></pre></div><p>重启</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>service mysql restart</span></span></code></pre></div>',23),u=["href"],m=["href"],g={key:1,style:{margin:"0 5px"}},v=["href"],R=JSON.parse('{"title":"MySQL:ERROR 1698 (28000)","description":"","frontmatter":{"prev":{"text":"笔记","link":"/笔记"}},"headers":[],"params":{"id":23,"title":"MySQL:ERROR 1698 (28000)","userId":1,"releaseTime":"2024-01-28T01:38:42.000+00:00","updateTime":"10/11/2024, 4:52:59 AM","isPublic":"公开","typeId":6,"sourceUrl":"https://xnote.xclhove.top/note/preview/23","prev":{"link":"./24#MySQL:ERROR 1819 (HY000)","text":"上一篇：MySQL:ERROR 1819 (HY000)"},"next":{"link":"./16#MySQL8修改密码","text":"下一篇：MySQL8修改密码"}},"relativePath":"note/23.md","filePath":"note/23.md"}'),y={name:"note/23.md"},f=i({...y,setup(b){const{params:l}=o();return d(()=>{document.title=l.value.title}),(s,k)=>(p(),a("div",null,[h,e("p",null,"最近更新："+t(s.$params.updateTime),1),e("p",null,[c("原文链接："),e("a",{target:"_blank",href:s.$params.sourceUrl},t(s.$params.title),9,u)]),e("span",null,[s.$params.prev?(p(),a("a",{key:0,class:"prev",href:s.$params.prev.link},t(s.$params.prev.text),9,m)):n("",!0),s.$params.prev&&s.$params.next?(p(),a("span",g,"|")):n("",!0),s.$params.next?(p(),a("a",{key:2,href:s.$params.next.link},t(s.$params.next.text),9,v)):n("",!0)])]))}});export{R as __pageData,f as default};
